<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <title>Driver Sign UP</title>

  <style>
    body {
      background-image: url("../../static/loginSignup.jpg");
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;
      background-attachment: fixed;
    }

    .whitebox {
      border-radius: 0.5rem;
      margin: 80px 0;
      padding: 50px 0;
    }

    .form-group {
      margin: 15px 0;
    }

    a {
      text-decoration: none;
      color: black;
    }
  </style>
</head>

<body>
  <div class="container-fluid d-flex align-items-center justify-content-center" id="identity">
    <div class="whitebox bg-white w-75 d-flex align-items-center justify-content-center">
      <div class="w-100">
        <div>
          <h3 class="text-center">Choose Your Identity</h3>
        </div>
        <div class="d-flex justify-content-center">
          <div class="w-75">
            <form id="driver-form">
              <div class="form-group">
                <label for="DName">Name:</label>
                <input type="text" class="form-control" id="DName" placeholder="Enter name" required>
              </div>
              <div class="form-group">
                <label for="DGender">Gender:</label>
                <select class="form-control" id="DGender" required>
                  <option value="">--Select Gender--</option>
                  <option value="M">Male</option>
                  <option value="F">Female</option>
                </select>
              </div>
              <div class="form-group">
                <label for="DEmail">Email:</label>
                <input type="email" class="form-control" id="DEmail" placeholder="Enter email" required>
              </div>
              <div class="form-group">
                <label for="DPassword">Password:</label>
                <input type="password" class="form-control" id="DPassword" placeholder="Enter password" required>
              </div>
              <div class="form-group">
                <label for="DConfirmPassword">Confirm Password:</label>
                <input type="password" class="form-control" id="DConfirmPassword" placeholder="Confirm password"
                  required>
              </div>
              <div class="form-group">
                <label for="DVehicleNo">Vehicle Number:</label>
                <input type="text" class="form-control" id="DVehicleNo" placeholder="Enter vehicle number" required>
              </div>
              <div class="form-group">
                <label for="DLicenseNo">License Number:</label>
                <input type="text" class="form-control" id="DLicenseNo" placeholder="Enter license number" required>
              </div>
              <div class="form-group">
                <label for="DLicenseExpiration">License Expiration:</label>
                <input type="date" class="form-control" id="DLicenseExpiration" placeholder="Enter license expiration"
                  required>
              </div>
              <div class="form-group">
                <label for="DPhoneNo">Phone Number:</label>
                <input type="tel" class="form-control" id="DPhoneNo" placeholder="Enter phone number" required>
              </div>
              <div class="form-group">
                <label for="DCar">Car:</label>
                <input type="text" class="form-control" id="DCar" placeholder="Enter car" required>
              </div>
              <div class="form-group">
                <label for="DCapacity">Capacity:</label>
                <input type="number" class="form-control" id="DCapacity" placeholder="Enter capacity" required>
              </div>
              <button type="submit" class="btn btn-outline-dark mt-3 mb-3 w-100">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const driverForm = document.querySelector('#driver-form');
      driverForm.addEventListener('submit', function (event) {
        event.preventDefault();
        const name = document.querySelector('#DName').value;
        const gender = document.querySelector('#DGender').value;
        const email = document.querySelector('#DEmail').value;
        const password = document.querySelector('#DPassword').value;
        const vehicleNo = document.querySelector('#DVehicleNo').value;
        const licenseNo = document.querySelector('#DLicenseNo').value;
        const phoneNo = document.querySelector('#DPhoneNo').value;
        const licenseExpiration = document.querySelector('#DLicenseExpiration').value;
        const car = document.querySelector('#DCar').value;
        const capacity = document.querySelector('#DCapacity').value;
        axios.post('http://127.0.0.1:5000/driver/add_driver', {
          DName: name,
          DGender: gender,
          DEmail: email,
          DPassword: password,
          DVehicleNo: vehicleNo,
          DLicenseNo: licenseNo,
          DPhoneNo: phoneNo,
          DLicenseExpiration: licenseExpiration,
          DCar: car,
          DCapacity: capacity
        })
          .then(function (response) {
            console.log(response);
            alert("Driver added successfully.");
          })
          .catch(function (error) {
            console.log(error);
            alert("An error occurred while adding the driver.");
          });
      });
    });
  </script>
</body>

</html>